:root {
  /* Layout */
  --unit: 40px;
  --row-height: calc(var(--unit) * 2);
  --card-gap: 4px;
  --half-gap: calc(var(--card-gap) / 2);
  --card-radius: 8px;
  --container-radius: calc(var(--card-radius) + var(--card-gap));
  --input-font-size: 14px;
  --preview-font-size: 11px;
  --weight-normal: 400;
  --weight-medium: 500;
  --weight-semibold: 600;
  --weight-bold: 700;
  --cell-padding: 12px;
  --page-gap: 20px;
  --preview-flex: 2;
  --input-flex: 3;

  /* Surfaces */
  --color-bg: #f5f5f5;
  --color-bg-raised: white;
  --color-bg-subtle: #fafafa;

  /* Borders */
  --color-border: #e0e0e0;
  --card-border: 1px solid var(--color-border);

  /* Text */
  --color-text: #424242;
  --color-text-secondary: #616161;
  --color-text-muted: #9e9e9e;

  /* Blue (focus, primary actions) â€” Material Blue */
  --color-focus: #1976d2;
  --color-focus-bg: rgba(25,118,210,0.08);
  --color-focus-ring: #0d47a1;

  /* Green (toggle on, insert) */
  --color-green: #4caf50;
  --color-green-bg: #e8f5e9;

  /* Red (toggle off, delete, error) */
  --color-red: #c62828;
  --color-red-bg: #ffebee;

  /* Orange (clear action) */
  --color-clear: #ff9800;

  /* Highlight (note/bahnhof) */
  --color-highlight: #fff9c4;
  --color-highlight-text: #f57f17;

  /* Row type: Abzweigung (purple) */
  --color-abzweigung: #f3e5f5;
  --color-abzweigung-text: #7b1fa2;

  /* Row type: Knoten (teal) */
  --color-knoten: #e0f2f1;
  --color-knoten-text: #00695c;

  /* Row type: Import (blue) */
  --color-import: #e3f2fd;
  --color-import-text: #1565c0;
}

/* Highlight overlay system */
.hl, .hl-wrap { position: relative; cursor: pointer; }
.hl::after, .hl-wrap::after {
  content: '';
  position: absolute;
  inset: -1px;
  border: 2px solid var(--color-focus);
  background: var(--color-focus-bg);
  border-radius: inherit;
  pointer-events: none;
  opacity: 0;
  z-index: 3;
}
.hl:hover::after { opacity: 1; }
.hl-wrap:focus-within::after { opacity: 1; }
.hl.hl-primary::after { border-color: var(--color-focus-ring); background: rgba(0,0,0,0.1); }
.hl.hl-flash::after { opacity: 1; }
.hl-wrap > input, .hl-wrap > select { outline: none; }

* { margin: 0; padding: 0; box-sizing: border-box; }
body {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  background: var(--color-bg);
  padding: 0 var(--page-gap) var(--page-gap) var(--page-gap);
}

/* Base signal-cell: shared by all row type components */
.signal-cell {
  display: flex;
  flex-direction: column;
  background: var(--color-bg-raised);
  border: var(--card-border);
  border-radius: var(--card-radius);
  position: relative;
  flex: 1;
  min-width: 0;
  height: var(--row-height);
}

.signal-cell.disabled { background: var(--color-bg); pointer-events: none; }
.signal-cell.disabled .signal-input { color: var(--color-text-muted); cursor: default; }
.signal-cell.disabled .signal-preview { display: none; }

.section-header {
  padding: var(--cell-padding);
  font-weight: var(--weight-semibold);
  font-size: var(--input-font-size);
  background: var(--color-bg-subtle);
  border-bottom: 1px solid var(--color-border);
  border-radius: var(--container-radius) var(--container-radius) 0 0;
}
